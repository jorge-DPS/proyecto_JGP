!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.VueResource=e()}(this,function(){"use strict";function u(t){this.state=2,this.value=void 0,this.deferred=[];var e=this;try{t(function(t){e.resolve(t)},function(t){e.reject(t)})}catch(t){e.reject(t)}}function a(t,e){t instanceof Promise?this.promise=t:this.promise=new Promise(t.bind(e)),this.context=e}function i(t){return t.replace(/^\s*|\s*$/g,"")}function o(t){return t?t.toLowerCase():""}function s(t){return"string"==typeof t}function f(t){return"function"==typeof t}function h(t){return null!==t&&"object"==typeof t}function c(t){return h(t)&&Object.getPrototypeOf(t)==Object.prototype}function p(t,e,n){t=a.resolve(t);return arguments.length<2?t:t.then(e,n)}function e(t,e,n){return f(n=n||{})&&(n=n.call(e)),d(t.bind({$vm:e,$options:n}),t,{$options:n})}function l(t,e){var n,o;if(t&&"number"==typeof t.length)for(n=0;n<t.length;n++)e.call(t[n],t[n],n);else if(h(t))for(o in t)t.hasOwnProperty(o)&&e.call(t[o],t[o],o);return t}function d(e){return U.call(arguments,1).forEach(function(t){r(e,t,!0)}),e}function r(t,e,n){for(var o in e)n&&(c(e[o])||S(e[o]))?(c(e[o])&&!c(t[o])&&(t[o]={}),S(e[o])&&!S(t[o])&&(t[o]=[]),r(t[o],e[o],n)):void 0!==e[o]&&(t[o]=e[o])}function m(t,e,n){var o,u,s,t=(o=t,u=["+","#",".","/",";","?","&"],{vars:s=[],expand:function(i){return o.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(t,e,n){if(e){var o=null,r=[];if(-1!==u.indexOf(e.charAt(0))&&(o=e.charAt(0),e=e.substr(1)),e.split(/,/g).forEach(function(t){t=/([^:\*]*)(?::(\d+)|(\*))?/.exec(t);r.push.apply(r,function(t,e,n,o){var r=t[n],i=[];{var u;y(r)&&""!==r?"string"==typeof r||"number"==typeof r||"boolean"==typeof r?(r=r.toString(),o&&"*"!==o&&(r=r.substring(0,parseInt(o,10))),i.push(b(e,r,v(e)?n:null))):"*"===o?Array.isArray(r)?r.filter(y).forEach(function(t){i.push(b(e,t,v(e)?n:null))}):Object.keys(r).forEach(function(t){y(r[t])&&i.push(b(e,r[t],t))}):(u=[],Array.isArray(r)?r.filter(y).forEach(function(t){u.push(b(e,t))}):Object.keys(r).forEach(function(t){y(r[t])&&(u.push(encodeURIComponent(t)),u.push(b(e,r[t].toString())))}),v(e)?i.push(encodeURIComponent(n)+"="+u.join(",")):0!==u.length&&i.push(u.join(","))):";"===e?i.push(encodeURIComponent(n)):""!==r||"&"!==e&&"?"!==e?""===r&&i.push(""):i.push(encodeURIComponent(n)+"=")}return i}(i,o,t[1],t[2]||t[3])),s.push(t[1])}),o&&"+"!==o){e=",";return"?"===o?e="&":"#"!==o&&(e=o),(0!==r.length?o:"")+r.join(e)}return r.join(",")}return g(n)})}}),e=t.expand(e);return n&&n.push.apply(n,t.vars),e}function y(t){return null!=t}function v(t){return";"===t||"&"===t||"?"===t}function b(t,e,n){return e=("+"===t||"#"===t?g:encodeURIComponent)(e),n?encodeURIComponent(n)+"="+e:e}function g(t){return t.split(/(%[0-9A-Fa-f]{2})/g).map(function(t){return t=!/%[0-9A-Fa-f]/.test(t)?encodeURI(t):t}).join("")}function w(t,e){var r,i=this||{},n=t;return s(t)&&(n={url:t,params:e}),n=d({},w.options,i.$options,n),w.transforms.forEach(function(t){var e,n,o;e=t,n=r,o=i.$vm,r=function(t){return e.call(o,t,n)}}),r(n)}function T(r){return new a(function(n){function t(t){var e=t.type,t=0;"load"===e?t=200:"error"===e&&(t=500),n(r.respondWith(o.responseText,{status:t}))}var o=new XDomainRequest;r.abort=function(){return o.abort()},o.open(r.method,r.getUrl()),o.timeout=0,o.onload=t,o.onerror=t,o.ontimeout=t,o.onprogress=function(){},o.send(r.getBody())})}function n(u){return new a(function(n){var o,t=u.jsonp||"callback",r="_jsonp"+Math.random().toString(36).substr(2),i=null,e=function(t){var e=t.type,t=0;"load"===e&&null!==i?t=200:"error"===e&&(t=500),n(u.respondWith(i,{status:t})),delete window[r],document.body.removeChild(o)};u.params[t]=r,window[r]=function(t){i=JSON.stringify(t)},(o=document.createElement("script")).src=u.getUrl(),o.type="text/javascript",o.async=!0,o.onload=e,o.onerror=e,document.body.appendChild(o)})}function x(r){return new a(function(n){function t(t){var e=r.respondWith("response"in o?o.response:o.responseText,{status:1223===o.status?204:o.status,statusText:1223===o.status?"No Content":i(o.statusText)});l(i(o.getAllResponseHeaders()).split("\n"),function(t){e.headers.append(t.slice(0,t.indexOf(":")),t.slice(t.indexOf(":")+1))}),n(e)}var o=new XMLHttpRequest;r.abort=function(){return o.abort()},r.progress&&("GET"===r.method?o.addEventListener("progress",r.progress):/^(POST|PUT)$/i.test(r.method)&&o.upload.addEventListener("progress",r.progress)),o.open(r.method,r.getUrl(),!0),"responseType"in o&&(o.responseType="blob"),!0===r.credentials&&(o.withCredentials=!0),r.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),o.timeout=0,o.onload=t,o.onerror=t,o.send(r.getBody())})}function j(i){function t(r){return new a(function(e){function n(){var t;f(u=s.pop())?u.call(i,r,o):(t="Invalid interceptor of type "+typeof u+", must be a function","undefined"!=typeof console&&A&&console.warn("[VueResource warn]: "+t),o())}function o(t){if(f(t))c.unshift(t);else if(h(t))return c.forEach(function(e){t=p(t,function(t){return e.call(i,t)||t})}),void p(t,e);n()}n()},i)}var u,s=[E],c=[];return h(i)||(i=null),t.use=function(t){s.push(t)},t}function E(t,e){e((t.client||x)(t))}function O(t,n){return Object.keys(t).reduce(function(t,e){return o(n)===o(e)?e:t},null)}function P(t){var e=this||{},n=j(e.$vm);return function(n){U.call(arguments,1).forEach(function(t){for(var e in t)void 0===n[e]&&(n[e]=t[e])})}(t||{},e.$options,P.options),P.interceptors.forEach(function(t){n.use(t)}),n(new D(t)).then(function(t){return t.ok?t:a.reject(t)},function(t){return t instanceof Error&&(e=t,"undefined"!=typeof console&&console.error(e)),a.reject(t);var e})}function C(n,o,t,r){var i=this||{},u={};return l(t=k({},C.actions,t),function(t,e){t=d({url:n,params:k({},o)},r,t),u[e]=function(){return(i.$http||P)(function(t,e){var n,o=k({},t),r={};switch(e.length){case 2:r=e[0],n=e[1];break;case 1:/^(POST|PUT|PATCH)$/i.test(o.method)?n=e[0]:r=e[0];break;case 0:break;default:throw"Expected up to 4 arguments [params, body], got "+e.length+" arguments"}return o.body=n,o.params=k({},o.params,r),o}(t,arguments))}}),u}function $(n){var t;$.installed||(R=(t=n).util,A=t.config.debug||!t.config.silent,n.url=w,n.http=P,n.resource=C,n.Promise=a,Object.defineProperties(n.prototype,{$url:{get:function(){return e(n.url,this,this.$options.url)}},$http:{get:function(){return e(n.http,this,this.$options.http)}},$resource:{get:function(){return n.resource.bind(this)}},$promise:{get:function(){var e=this;return function(t){return new n.Promise(t,e)}}}}))}u.reject=function(n){return new u(function(t,e){e(n)})},u.resolve=function(n){return new u(function(t,e){t(n)})},u.all=function(i){return new u(function(n,t){var o=0,r=[];0===i.length&&n(r);for(var e=0;e<i.length;e+=1)u.resolve(i[e]).then(function(e){return function(t){r[e]=t,(o+=1)===i.length&&n(r)}}(e),t)})},u.race=function(o){return new u(function(t,e){for(var n=0;n<o.length;n+=1)u.resolve(o[n]).then(t,e)})};var t=u.prototype;t.resolve=function(t){var e=this;if(2===e.state){if(t===e)throw new TypeError("Promise settled with itself.");var n=!1;try{var o=t&&t.then;if(null!==t&&"object"==typeof t&&"function"==typeof o)return void o.call(t,function(t){n||e.resolve(t),n=!0},function(t){n||e.reject(t),n=!0})}catch(t){return void(n||e.reject(t))}e.state=0,e.value=t,e.notify()}},t.reject=function(t){var e=this;if(2===e.state){if(t===e)throw new TypeError("Promise settled with itself.");e.state=1,e.value=t,e.notify()}},t.notify=function(){var r=this;R.nextTick(function(){if(2!==r.state)for(;r.deferred.length;){var e=r.deferred.shift(),t=e[0],n=e[1],o=e[2],e=e[3];try{0===r.state?o("function"==typeof t?t.call(void 0,r.value):r.value):1===r.state&&("function"==typeof n?o(n.call(void 0,r.value)):e(r.value))}catch(t){e(t)}}},void 0)},t.then=function(n,o){var r=this;return new u(function(t,e){r.deferred.push([n,o,t,e]),r.notify()})},t.catch=function(t){return this.then(void 0,t)},"undefined"==typeof Promise&&(window.Promise=u),a.all=function(t,e){return new a(Promise.all(t),e)},a.resolve=function(t,e){return new a(Promise.resolve(t),e)},a.reject=function(t,e){return new a(Promise.reject(t),e)},a.race=function(t,e){return new a(Promise.race(t),e)};t=a.prototype;t.bind=function(t){return this.context=t,this},t.then=function(t,e){return t&&t.bind&&this.context&&(t=t.bind(this.context)),e&&e.bind&&this.context&&(e=e.bind(this.context)),new a(this.promise.then(t,e),this.context)},t.catch=function(t){return t&&t.bind&&this.context&&(t=t.bind(this.context)),new a(this.promise.catch(t),this.context)};var A=!(t.finally=function(e){return this.then(function(t){return e.call(this),t},function(t){return e.call(this),Promise.reject(t)})}),R={},U=[].slice,S=Array.isArray,k=Object.assign||function(e){return U.call(arguments,1).forEach(function(t){r(e,t)}),e},I=document.documentMode,H=document.createElement("a");w.options={url:"",root:null,params:{}},w.transforms=[function(e){var t=[],n=m(e.url,e.params,t);return t.forEach(function(t){delete e.params[t]}),n},function(t,e){var n=Object.keys(w.options.params),o={},e=e(t);return l(t.params,function(t,e){-1===n.indexOf(e)&&(o[e]=t)}),(o=w.params(o))&&(e+=(-1==e.indexOf("?")?"?":"&")+o),e},function(t,e){return e=e(t),e=s(t.root)&&!e.match(/^(https?:)?\//)?t.root+"/"+e:e}],w.params=function(t){var e=[],n=encodeURIComponent;return e.add=function(t,e){null===(e=f(e)?e():e)&&(e=""),this.push(n(t)+"="+n(e))},function n(o,t,r){var i,u=S(t),s=c(t);l(t,function(t,e){i=h(t)||S(t),r&&(e=r+"["+(s||i?e:"")+"]"),!r&&u?o.add(t.name,t.value):i?n(o,t,e):o.add(e,t)})}(e,t),e.join("&").replace(/%20/g,"+")},w.parse=function(t){return I&&(H.href=t,t=H.href),H.href=t,{href:H.href,protocol:H.protocol?H.protocol.replace(/:$/,""):"",port:H.port,host:H.host,hostname:H.hostname,pathname:"/"===H.pathname.charAt(0)?H.pathname:"/"+H.pathname,search:H.search?H.search.replace(/^\?/,""):"",hash:H.hash?H.hash.replace(/^#/,""):""}};var L=w.parse(location.href),N="withCredentials"in new XMLHttpRequest,q=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},B=(F.prototype.has=function(t){return null!==O(this.map,t)},F.prototype.get=function(t){t=this.map[O(this.map,t)];return t?t[0]:null},F.prototype.getAll=function(t){return this.map[O(this.map,t)]||[]},F.prototype.set=function(t,e){this.map[function(t){if(/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return i(t)}(O(this.map,t)||t)]=[i(e)]},F.prototype.append=function(t,e){var n=this.getAll(t);n.length?n.push(i(e)):this.set(t,e)},F.prototype.delete=function(t){delete this.map[O(this.map,t)]},F.prototype.forEach=function(n,o){var r=this;l(this.map,function(t,e){l(t,function(t){return n.call(o,t,e,r)})})},F),J=(X.prototype.blob=function(){return p(this.bodyBlob)},X.prototype.text=function(){return p(this.bodyText)},X.prototype.json=function(){return p(this.text(),function(t){return JSON.parse(t)})},X),D=(M.prototype.getUrl=function(){return w(this)},M.prototype.getBody=function(){return this.body},M.prototype.respondWith=function(t,e){return new J(t,k(e||{},{url:this.getUrl()}))},M),t={"Content-Type":"application/json;charset=utf-8"};function M(t){q(this,M),this.body=null,this.params={},k(this,t,{method:(t=t.method||"GET")?t.toUpperCase():""}),this.headers instanceof B||(this.headers=new B(this.headers))}function X(t,e){var n,o=e.url,r=e.headers,i=e.status,e=e.statusText;q(this,X),this.url=o,this.ok=200<=i&&i<300,this.status=i||0,this.statusText=e||"",this.headers=new B(r),s(this.body=t)?this.bodyText=t:(r=t,"undefined"!=typeof Blob&&r instanceof Blob&&(this.bodyBlob=t,0!==(r=t).type.indexOf("text")&&-1===r.type.indexOf("json")||(this.bodyText=(n=t,new a(function(t){var e=new FileReader;e.readAsText(n),e.onload=function(){t(e.result)}})))))}function F(t){var n=this;q(this,F),this.map={},l(t,function(t,e){return n.append(e,t)})}return P.options={},P.headers={put:t,post:t,patch:t,delete:t,custom:{"X-Requested-With":"XMLHttpRequest"},common:{Accept:"application/json, text/plain, */*"}},P.interceptors=[function(t,e){f(t.before)&&t.before.call(this,t),e()},function(t,e){var n;t.timeout&&(n=setTimeout(function(){t.abort()},t.timeout)),e(function(t){clearTimeout(n)})},function(t,e){t.emulateHTTP&&/^(PUT|PATCH|DELETE)$/i.test(t.method)&&(t.headers.set("X-HTTP-Method-Override",t.method),t.method="POST"),e()},function(t,e){var n;n=t.body,"undefined"!=typeof FormData&&n instanceof FormData?t.headers.delete("Content-Type"):(h(t.body)||S(t.body))&&(t.emulateJSON?(t.body=w.params(t.body),t.headers.set("Content-Type","application/x-www-form-urlencoded")):t.body=JSON.stringify(t.body)),e(function(n){return Object.defineProperty(n,"data",{get:function(){return this.body},set:function(t){this.body=t}}),n.bodyText?p(n.text(),function(t){var e=n.headers.get("Content-Type");if(s(e)&&0===e.indexOf("application/json"))try{n.body=JSON.parse(t)}catch(t){n.body=null}else n.body=t;return n}):n})},function(t,e){"JSONP"==t.method&&(t.client=n),e(function(e){if("JSONP"==t.method)return p(e.json(),function(t){return e.body=t,e})})},function(n,t){l(k({},P.headers.common,n.crossOrigin?{}:P.headers.custom,P.headers[o(n.method)]),function(t,e){n.headers.has(e)||n.headers.set(e,t)}),t()},function(t,e){var n;!0!==(n=t.crossOrigin)&&!1!==n&&function(t){t=w.parse(w(t));return t.protocol!==L.protocol||t.host!==L.host}(t)&&(t.crossOrigin=!0),t.crossOrigin&&(N||(t.client=T),delete t.emulateHTTP),e()}],["get","delete","head","jsonp"].forEach(function(n){P[n]=function(t,e){return this(k(e||{},{url:t,method:n}))}}),["post","put","patch"].forEach(function(o){P[o]=function(t,e,n){return this(k(n||{},{url:t,method:o,body:e}))}}),C.actions={get:{method:"GET"},save:{method:"POST"},query:{method:"GET"},update:{method:"PUT"},remove:{method:"DELETE"},delete:{method:"DELETE"}},"undefined"!=typeof window&&window.Vue&&window.Vue.use($),$});