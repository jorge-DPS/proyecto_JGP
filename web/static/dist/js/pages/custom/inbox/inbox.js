"use strict";var KTAppInbox=function(){function i(i,a){var a=new Quill("#"+a,{modules:{toolbar:{}},placeholder:"Type message...",theme:"snow"}),t=KTUtil.find(i,".ql-toolbar"),a=KTUtil.find(i,".ql-editor");t&&KTUtil.addClass(t,"px-5 border-top-0 border-left-0 border-right-0"),a&&KTUtil.addClass(a,"px-8")}function a(t){var t=KTUtil.getById(t),i=KTUtil.find(t,"[name=compose_to]"),i=(new Tagify(i,{delimiters:", ",maxTags:10,blacklist:["fuck","shit","pussy"],keepInvalidTags:!0,whitelist:[{value:"Chris Muller",email:"chris.muller@wix.com",initials:"",initialsState:"",pic:"./assets/media/users/100_11.jpg",class:"tagify__tag--primary"},{value:"Nick Bold",email:"nick.seo@gmail.com",initials:"SS",initialsState:"warning",pic:""},{value:"Alon Silko",email:"alon@keenthemes.com",initials:"",initialsState:"",pic:"./assets/media/users/100_6.jpg"},{value:"Sam Seanic",email:"sam.senic@loop.com",initials:"",initialsState:"",pic:"./assets/media/users/100_8.jpg"},{value:"Sara Loran",email:"sara.loran@tilda.com",initials:"",initialsState:"",pic:"./assets/media/users/100_9.jpg"},{value:"Eric Davok",email:"davok@mix.com",initials:"",initialsState:"",pic:"./assets/media/users/100_13.jpg"},{value:"Sam Seanic",email:"sam.senic@loop.com",initials:"",initialsState:"",pic:"./assets/media/users/100_13.jpg"},{value:"Lina Nilson",email:"lina.nilson@loop.com",initials:"LN",initialsState:"danger",pic:"./assets/media/users/100_15.jpg"}],templates:{dropdownItem:function(i){try{var a="";return a+='<div class="tagify__dropdown__item">',a+='   <div class="d-flex align-items-center">',a+='       <span class="symbol sumbol-'+(i.initialsState||"")+' mr-2">',a+='           <span class="symbol-label" style="background-image: url(\''+(i.pic||"")+"')\">"+(i.initials||"")+"</span>",a+="       </span>",a+='       <div class="d-flex flex-column">',a+='           <a href="#" class="text-dark-75 text-hover-primary font-weight-bold">'+(i.value||"")+"</a>",a+='           <span class="text-muted font-weight-bold">'+(i.email||"")+"</span>",a+="       </div>",a+="   </div>",a+="</div>"}catch(i){}}},transformTag:function(i){i.class="tagify__tag tagify__tag--primary"},dropdown:{classname:"color-blue",enabled:1,maxItems:5}}),KTUtil.find(t,"[name=compose_cc]")),i=(new Tagify(i,{delimiters:", ",maxTags:10,blacklist:["fuck","shit","pussy"],keepInvalidTags:!0,whitelist:[{value:"Chris Muller",email:"chris.muller@wix.com",initials:"",initialsState:"",pic:"./assets/media/users/100_11.jpg",class:"tagify__tag--primary"},{value:"Nick Bold",email:"nick.seo@gmail.com",initials:"SS",initialsState:"warning",pic:""},{value:"Alon Silko",email:"alon@keenthemes.com",initials:"",initialsState:"",pic:"./assets/media/users/100_6.jpg"},{value:"Sam Seanic",email:"sam.senic@loop.com",initials:"",initialsState:"",pic:"./assets/media/users/100_8.jpg"},{value:"Sara Loran",email:"sara.loran@tilda.com",initials:"",initialsState:"",pic:"./assets/media/users/100_9.jpg"},{value:"Eric Davok",email:"davok@mix.com",initials:"",initialsState:"",pic:"./assets/media/users/100_13.jpg"},{value:"Sam Seanic",email:"sam.senic@loop.com",initials:"",initialsState:"",pic:"./assets/media/users/100_13.jpg"},{value:"Lina Nilson",email:"lina.nilson@loop.com",initials:"LN",initialsState:"danger",pic:"./assets/media/users/100_15.jpg"}],templates:{dropdownItem:function(i){try{var a="";return a+='<div class="tagify__dropdown__item">',a+='   <div class="d-flex align-items-center">',a+='       <span class="symbol sumbol-'+(i.initialsState||"")+' mr-2" style="background-image: url(\''+(i.pic||"")+"')\">",a+='           <span class="symbol-label">'+(i.initials||"")+"</span>",a+="       </span>",a+='       <div class="d-flex flex-column">',a+='           <a href="#" class="text-dark-75 text-hover-primary font-weight-bold">'+(i.value||"")+"</a>",a+='           <span class="text-muted font-weight-bold">'+(i.email||"")+"</span>",a+="       </div>",a+="   </div>",a+="</div>"}catch(i){}}},transformTag:function(i){i.class="tagify__tag tagify__tag--primary"},dropdown:{classname:"color-blue",enabled:1,maxItems:5}}),KTUtil.find(t,"[name=compose_bcc]"));new Tagify(i,{delimiters:", ",maxTags:10,blacklist:["fuck","shit","pussy"],keepInvalidTags:!0,whitelist:[{value:"Chris Muller",email:"chris.muller@wix.com",initials:"",initialsState:"",pic:"./assets/media/users/100_11.jpg",class:"tagify__tag--primary"},{value:"Nick Bold",email:"nick.seo@gmail.com",initials:"SS",initialsState:"warning",pic:""},{value:"Alon Silko",email:"alon@keenthemes.com",initials:"",initialsState:"",pic:"./assets/media/users/100_6.jpg"},{value:"Sam Seanic",email:"sam.senic@loop.com",initials:"",initialsState:"",pic:"./assets/media/users/100_8.jpg"},{value:"Sara Loran",email:"sara.loran@tilda.com",initials:"",initialsState:"",pic:"./assets/media/users/100_9.jpg"},{value:"Eric Davok",email:"davok@mix.com",initials:"",initialsState:"",pic:"./assets/media/users/100_13.jpg"},{value:"Sam Seanic",email:"sam.senic@loop.com",initials:"",initialsState:"",pic:"./assets/media/users/100_13.jpg"},{value:"Lina Nilson",email:"lina.nilson@loop.com",initials:"LN",initialsState:"danger",pic:"./assets/media/users/100_15.jpg"}],templates:{dropdownItem:function(i){try{var a="";return a+='<div class="tagify__dropdown__item">',a+='   <div class="d-flex align-items-center">',a+='       <span class="symbol sumbol-'+(i.initialsState||"")+' mr-2" style="background-image: url(\''+(i.pic||"")+"')\">",a+='           <span class="symbol-label">'+(i.initials||"")+"</span>",a+="       </span>",a+='       <div class="d-flex flex-column">',a+='           <a href="#" class="text-dark-75 text-hover-primary font-weight-bold">'+(i.value||"")+"</a>",a+='           <span class="text-muted font-weight-bold">'+(i.email||"")+"</span>",a+="       </div>",a+="   </div>",a+="</div>"}catch(i){}}},transformTag:function(i){i.class="tagify__tag tagify__tag--primary"},dropdown:{classname:"color-blue",enabled:1,maxItems:5}}),KTUtil.on(t,'[data-inbox="cc-show"]',"click",function(i){var a=KTUtil.find(t,".inbox-to-cc");KTUtil.removeClass(a,"d-none"),KTUtil.addClass(a,"d-flex"),KTUtil.find(t,"[name=compose_cc]").focus()}),KTUtil.on(t,'[data-inbox="cc-hide"]',"click",function(i){var a=KTUtil.find(t,".inbox-to-cc");KTUtil.removeClass(a,"d-flex"),KTUtil.addClass(a,"d-none")}),KTUtil.on(t,'[data-inbox="bcc-show"]',"click",function(i){var a=KTUtil.find(t,".inbox-to-bcc");KTUtil.removeClass(a,"d-none"),KTUtil.addClass(a,"d-flex"),KTUtil.find(t,"[name=compose_bcc]").focus()}),KTUtil.on(t,'[data-inbox="bcc-hide"]',"click",function(i){var a=KTUtil.find(t,".inbox-to-bcc");KTUtil.removeClass(a,"d-flex"),KTUtil.addClass(a,"d-none")})}function t(i){var t="#"+i,a=$(t+" .dropzone-item");a.id="",i=a.parent(".dropzone-items").html(),a.remove(),(i=new Dropzone(t,{url:"https://keenthemes.com/scripts/void.php",parallelUploads:20,maxFilesize:1,previewTemplate:i,previewsContainer:t+" .dropzone-items",clickable:t+"_select"})).on("addedfile",function(i){$(document).find(t+" .dropzone-item").css("display","")}),i.on("totaluploadprogress",function(i){document.querySelector(t+" .progress-bar").style.width=i+"%"}),i.on("sending",function(i){document.querySelector(t+" .progress-bar").style.opacity="1"}),i.on("complete",function(i){var a=t+" .dz-complete";setTimeout(function(){$(a+" .progress-bar, "+a+" .progress").css("opacity","0")},300)})}var n,o,c,e,s;return{init:function(){n=KTUtil.getById("kt_inbox_aside"),o=KTUtil.getById("kt_inbox_list"),c=KTUtil.getById("kt_inbox_view"),e=KTUtil.getById("kt_inbox_compose"),s=KTUtil.getById("kt_inbox_reply"),KTAppInbox.initAside(),KTAppInbox.initList(),KTAppInbox.initView(),KTAppInbox.initReply(),KTAppInbox.initCompose()},initAside:function(){new KTOffcanvas(n,{overlay:!0,baseClass:"offcanvas-mobile",toggleBy:"kt_subheader_mobile_toggle"}),KTUtil.on(n,'.list-item[data-action="list"]',"click",function(i){var a=KTUtil.attr(this,"data-type"),t=KTUtil.find(o,".kt-inbox__items"),e=this.closest(".kt-nav__item"),s=KTUtil.find(n,".kt-nav__item.kt-nav__item--active"),l=new KTDialog({type:"loader",placement:"top center",message:"Loading ..."});l.show(),setTimeout(function(){l.hide(),KTUtil.css(o,"display","flex"),KTUtil.css(c,"display","none"),KTUtil.addClass(e,"kt-nav__item--active"),KTUtil.removeClass(s,"kt-nav__item--active"),KTUtil.attr(t,"data-type",a)},600)})},initList:function(){KTUtil.on(o,'[data-inbox="message"]',"click",function(i){var a=KTUtil.find(this,'[data-inbox="actions"]');if(i.target===a||a&&!0===a.contains(i.target))return!1;var t=new KTDialog({type:"loader",placement:"top center",message:"Loading ..."});t.show(),setTimeout(function(){t.hide(),KTUtil.addClass(o,"d-none"),KTUtil.removeClass(o,"d-block"),KTUtil.addClass(c,"d-block"),KTUtil.removeClass(c,"d-none")},700)}),KTUtil.on(o,'[data-inbox="group-select"] input',"click",function(){for(var i=KTUtil.findAll(o,'[data-inbox="message"]'),a=0,t=i.length;a<t;a++){var e=i[a];KTUtil.find(e,".checkbox input").checked=this.checked,this.checked?KTUtil.addClass(e,"active"):KTUtil.removeClass(e,"active")}}),KTUtil.on(o,'[data-inbox="message"] [data-inbox="actions"] .checkbox input',"click",function(){var i=this.closest('[data-inbox="message"]');i&&this.checked?KTUtil.addClass(i,"active"):KTUtil.removeClass(i,"active")})},initView:function(){KTUtil.on(c,'[data-inbox="back"]',"click",function(){var i=new KTDialog({type:"loader",placement:"top center",message:"Loading ..."});i.show(),setTimeout(function(){i.hide(),KTUtil.addClass(o,"d-block"),KTUtil.removeClass(o,"d-none"),KTUtil.addClass(c,"d-none"),KTUtil.removeClass(c,"d-block")},700)}),KTUtil.on(c,'[data-inbox="message"]',"click",function(i){var a=this.closest('[data-inbox="message"]'),t=KTUtil.find(this,'[data-toggle="dropdown"]'),e=KTUtil.find(this,'[data-inbox="toolbar"]');return!(i.target===t||t&&!0===t.contains(i.target))&&(!(i.target===e||e&&!0===e.contains(i.target))&&void(KTUtil.hasClass(a,"toggle-on")?(KTUtil.addClass(a,"toggle-off"),KTUtil.removeClass(a,"toggle-on")):(KTUtil.removeClass(a,"toggle-off"),KTUtil.addClass(a,"toggle-on"))))})},initReply:function(){i(s,"kt_inbox_reply_editor"),t("kt_inbox_reply_attachments"),a("kt_inbox_reply_form")},initCompose:function(){i(e,"kt_inbox_compose_editor"),t("kt_inbox_compose_attachments"),a("kt_inbox_compose_form"),KTUtil.on(e,'[data-inbox="dismiss"]',"click",function(i){swal.fire({text:"Are you sure to discard this message ?",type:"danger",buttonsStyling:!1,confirmButtonText:"Discard draft",confirmButtonClass:"btn btn-danger",showCancelButton:!0,cancelButtonText:"Cancel",cancelButtonClass:"btn btn-light-primary"}).then(function(i){$(e).modal("hide")})})}}}();jQuery(document).ready(function(){KTAppInbox.init()});