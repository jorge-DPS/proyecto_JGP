!function(){"use strict";function a(){}function s(e){return function(){return e}}function u(n){return function(e){return!n(e)}}var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),i=s(!1),c=s(!0),n=function(){return f},f={fold:function(e,n){return e()},is:i,isSome:i,isNone:c,getOr:o,getOrThunk:r,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:s(null),getOrUndefined:s(void 0),or:o,orThunk:r,map:n,each:a,bind:n,exists:i,forall:c,filter:n,equals:t,equals_:t,toArray:function(){return[]},toString:s("none()")};function t(e){return e.isNone()}function r(e){return e()}function o(e){return e}function d(e,n){for(var t=e.length,r=new Array(t),o=0;o<t;o++){var i=e[o];r[o]=n(i,o)}return r}function l(e,n){for(var t=0,r=e.length;t<r;t++)n(e[t],t)}function m(e,n){for(var t=[],r=0,o=e.length;r<o;r++){var i=e[r];n(i,r)&&t.push(i)}return t}function p(e,n,t){return l(e,function(e){t=n(t,e)}),t}function g(e,n,t){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(n(i,r))return an.some(i);if(t(i,r))break}return an.none()}function h(e,n){return g(e,n,i)}function v(e,n){return function(e){for(var n=[],t=0,r=e.length;t<r;++t){if(!dn(e[t]))throw new Error("Arr.flatten item "+t+" was not an array, input: "+e);hn.apply(n,e[t])}return n}(d(e,n))}function y(e){return(e=gn.call(e,0)).reverse(),e}function S(e,n){return 0<=n&&n<e.length?an.some(e[n]):an.none()}function b(e){return S(e,0)}function C(e){return S(e,e.length-1)}function O(e,n){var t=String(n).toLowerCase();return h(e,function(e){return e.search(t)})}function N(e,n){return-1!==e.indexOf(n)}function L(e){return window.matchMedia(e).matches}function T(e,n){return e.dom===n.dom}function D(e,n){return t=e.dom,e=n.dom,n=Node.DOCUMENT_POSITION_CONTAINED_BY,0!=(t.compareDocumentPosition(e)&n);var t}function k(e,n){return(Mn().browser.isIE()?D:function(e,n){e=e.dom,n=n.dom;return e!==n&&e.contains(n)})(e,n)}function w(e,n){for(var t=qn(e),r=0,o=t.length;r<o;r++){var i=t[r];n(e[i],i)}}function x(e,n){var t,r,o,i,u={};return t=n,i=u,r=function(e,n){i[n]=e},o=a,w(e,function(e,n){(t(e,n)?r:o)(e,n)}),u}function A(e){return e.dom.nodeName.toLowerCase()}function E(e,n){var t=e.dom;w(n,function(e,n){!function(e,n,t){if(!(fn(t)||ln(t)||pn(t)))throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",t,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(n,t+"")}(t,n,e)})}function P(e){return p(e.dom.attributes,function(e,n){return e[n.name]=n.value,e},{})}function B(e){return an.from(e.dom.parentNode).map(_n.fromDom)}function I(e){return d(e.dom.childNodes,_n.fromDom)}function R(e,n){return e=e.dom.childNodes,an.from(e[n]).map(_n.fromDom)}function M(e){return R(e,0)}function U(e){return R(e,e.dom.childNodes.length-1)}function _(n,t){B(n).each(function(e){e.dom.insertBefore(t.dom,n.dom)})}function F(e,n){e.dom.appendChild(n.dom)}function H(n,e){l(e,function(e){F(n,e)})}function $(e){null!==(e=e.dom).parentNode&&e.parentNode.removeChild(e)}function j(e){return n=!0,_n.fromDom(e.dom.cloneNode(n));var n}function q(e,n){var t=function(e,n){n=_n.fromTag(n),e=P(e);return E(n,e),n}(e,n);return _(e,t),n=I(e),H(t,n),$(e),t}function K(e){return e&&3===e.nodeType}function V(e,n){return n&&!!e.schema.getTextBlockElements()[n.nodeName]}function W(e,n){return e&&e.nodeName in n}function Q(e,n,t){var r=e.isEmpty(n);return!(t&&0<e.select("span[data-mce-type=bookmark]",n).length)&&r}function X(e,n){return e.isChildOf(n,e.getRoot())}function z(e,n){var t,r,o,i=e.dom,u=e.schema.getBlockElements(),a=i.createFragment(),s=function(e){e=e.getParam("forced_root_block","p");return!1===e?"":!0===e?"p":e}(e);if(s&&((r=i.create(s)).tagName===s.toUpperCase()&&i.setAttribs(r,e.getParam("forced_root_block_attrs",{})),W(n.firstChild,u)||a.appendChild(r)),n)for(;t=n.firstChild;){var c=t.nodeName;o||"SPAN"===c&&"bookmark"===t.getAttribute("data-mce-type")||(o=!0),W(t,u)?(a.appendChild(t),r=null):s?(r||(r=i.create(s),a.appendChild(r)),r.appendChild(t)):a.appendChild(t)}return s?o||r.appendChild(i.create("br",{"data-mce-bogus":"1"})):a.appendChild(i.create("br")),a}function Y(e,n,t){var r=Zn.select('span[data-mce-type="bookmark"]',n),o=z(e,t),i=Zn.createRng();i.setStartAfter(t),i.setEndAfter(n);for(var u,a=(i=i.extractContents()).firstChild;a;a=a.firstChild)if("LI"===a.nodeName&&e.dom.isEmpty(a)){Zn.remove(a);break}e.dom.isEmpty(i)||Zn.insertAfter(i,n),Zn.insertAfter(o,n),Q(e.dom,t.parentNode)&&(u=t.parentNode,Vn.each(r,function(e){u.parentNode.insertBefore(e,t.parentNode)}),Zn.remove(u)),Zn.remove(t),Q(e.dom,n)&&Zn.remove(n)}function G(e){Fn(e,"dt")&&q(e,"dd")}function J(r,e,n){l(n,"Indent"===e?G:function(e){return n=r,Fn(t=e,"dd")?q(t,"dt"):Fn(t,"dt")&&B(t).each(function(e){return Y(n,e.dom,t.dom)}),0;var n,t})}function Z(e,n){if(K(e))return{container:e,offset:n};var t=Hn.getNode(e,n);return K(t)?{container:t,offset:n>=e.childNodes.length?t.data.length:0}:t.previousSibling&&K(t.previousSibling)?{container:t.previousSibling,offset:t.previousSibling.data.length}:t.nextSibling&&K(t.nextSibling)?{container:t.nextSibling,offset:0}:{container:e,offset:n}}function ee(e){var n=e.cloneRange(),t=Z(e.startContainer,e.startOffset);return n.setStart(t.container,t.offset),e=Z(e.endContainer,e.endOffset),n.setEnd(e.container,e.offset),n}function ne(e,n){return n=n||e.selection.getStart(!0),e.dom.getParent(n,"OL,UL,DL",nt(e,n))}function te(e){var n,t=ne(e),r=e.selection.getSelectedBlocks();return n=r,(e=t)&&1===n.length&&n[0]===e?Vn.grep(t.querySelectorAll("ol,ul,dl"),function(e){return Wn(e)}):Vn.grep(r,function(e){return Wn(e)&&t!==e})}function re(e){var n=e.selection.getSelectedBlocks();return Vn.grep(function(t,e){e=Vn.map(e,function(e){var n=t.dom.getParent(e,"li,dd,dt",nt(t,e));return n||e});return et.unique(e)}(e,n),function(e){return zn(e)})}function oe(e,n){return n=e.dom.getParents(n,"ol,ul",nt(e,n)),C(n)}function ie(e){var n,t=(n=oe(t=e,t.selection.getStart()),t=m(t.selection.getSelectedBlocks(),Qn),n.toArray().concat(t));return tt(e,t)}function ue(e,n,t){return e.isSome()&&n.isSome()?an.some(t(e.getOrDie(),n.getOrDie())):an.none()}function ae(e,n,t){return e.fire("ListMutation",{action:n,element:t})}function se(e,n,t){if(!fn(t))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",t,":: Element ",e),new Error("CSS value must be a string: "+t);var r;void 0!==(r=e).style&&mn(r.style.getPropertyValue)&&e.style.setProperty(n,t)}function ce(e,n){F(e.item,n.list)}function fe(e,n,t){for(var r=[],o=0;o<t;o++)r.push(function(e,n){e={list:_n.fromTag(n,e),item:_n.fromTag("li",e)};return F(e.list,e.item),e}(e,n.listType));return r}function de(e,n){for(var t=0;t<e.length-1;t++)!function(e,n,t){e=e.dom;se(e,n,t)}(e[t].item,"list-style-type","none");C(e).each(function(e){E(e.list,n.listAttributes),E(e.item,n.itemAttributes),H(e.item,n.content)})}function le(r,e,o){return e=e.slice(0,o.depth),C(e).each(function(e){var n,t=function(e,n,t){e=_n.fromTag("li",e);return E(e,n),H(e,t),e}(r,o.itemAttributes,o.content);n=t,F((t=e).list,n),t.item=n,n=o,A((e=e).list)!==n.listType&&(e.list=q(e.list,n.listType)),E(e.list,n.listAttributes)}),e}function me(e,n,t){return function(e){for(var n=1;n<e.length;n++)ce(e[n-1],e[n])}(e=fe(e,t,t.depth-n.length)),de(e,t),t=e,ue(C(n),b(t),ce),n.concat(e)}function pe(e){return Fn(e,"OL,UL")}function ge(e){return M(e).map(pe).getOr(!1)}function he(e){return 0<e.depth}function ve(e){return e.isSelected}function ye(e){var n=I(e),n=U(e).map(pe).getOr(!1)?n.slice(0,-1):n;return d(n,j)}function Se(e,n){function t(e){return e.depth===o&&!e.dirty}function r(e){return e.depth<o}var o=e[n].depth;return g(y(e.slice(0,n)),t,r).orThunk(function(){return g(e.slice(n+1),t,r)})}function be(n){return l(n,function(t,e){Se(n,e).fold(function(){t.dirty&&(t.listAttributes=x(t.listAttributes,function(e,n){return"start"!==n}))},function(e){return n=e,(e=t).listType=n.listType,void(e.listAttributes=vn({},n.listAttributes));var n})}),n}function Ce(i,u,a,s){return M(s).filter(pe).fold(function(){u.each(function(e){T(e.start,s)&&a.set(!0)});var n,t,r,e=(n=s,t=i,r=a.get(),B(n).filter(Kn).map(function(e){return{depth:t,dirty:!1,isSelected:r,content:ye(n),itemAttributes:P(n),listAttributes:P(e),listType:A(e)}}));u.each(function(e){T(e.end,s)&&a.set(!1)});var o=U(s).filter(pe).map(function(e){return rt(i,u,a,e)}).getOr([]);return e.toArray().concat(o)},function(e){return rt(i,u,a,e)})}function Oe(r,e){return e=be(e),d(e,function(e){var n,t,e=(e=e.content,t=(n||document).createDocumentFragment(),l(e,function(e){t.appendChild(e.dom)}),_n.fromDom(t));return _n.fromDom(z(r,e.dom))})}function Ne(e,n){return n=be(n),function(t,e){e=p(e,function(e,n){return(n.depth>e.length?me:le)(t,e,n)},[]);return b(e).map(function(e){return e.list})}(e.contentDocument,n).toArray()}function Le(e,n){l(m(e,ve),function(e){return function(e,n){switch(e){case"Indent":n.depth++;break;case"Outdent":n.depth--;break;case"Flatten":n.depth=0}n.dirty=!0}(n,e),0})}function Te(o,e,i){var n,t,r,e=(e=e,n=function(e){e=d(re(e),_n.fromDom);return ue(h(e,u(ge)),h(y(e),u(ge)),function(e,n){return{start:e,end:n}})}(o),t=!1,r={get:function(){return t},set:function(e){t=e}},d(e,function(e){return{sourceList:e,entries:rt(0,n,r,e)}}));l(e,function(e){Le(e.entries,i);var n,t,r,t=(n=o,t=e.entries,v(function(e,n){if(0===e.length)return[];for(var t=n(e[0]),r=[],o=[],i=0,u=e.length;i<u;i++){var a=e[i],s=n(a);s!==t&&(r.push(o),o=[]),t=s,o.push(a)}return 0!==o.length&&r.push(o),r}(t,he),function(e){return(b(e).map(he).getOr(!1)?Ne:Oe)(n,e)}));l(t,function(e){ae(o,"Indent"===i?"IndentList":"OutdentList",e.dom)}),r=e.sourceList,l(t,function(e){_(r,e)}),$(e.sourceList)})}function De(e,n){var t,r=d(ie(e),_n.fromDom),o=d(m(re(e),Yn),_n.fromDom),i=!1;return(r.length||o.length)&&(t=e.selection.getBookmark(),Te(e,r,n),J(e,n,o),e.selection.moveToBookmark(t),e.selection.setRng(ee(e.selection.getRng())),e.nodeChanged(),i=!0),i}function ke(e){return De(e,"Indent")}function we(e){return De(e,"Outdent")}function xe(e){return De(e,"Flatten")}function Ae(o){function e(e){var n,t=o[e?"startContainer":"endContainer"],r=o[e?"startOffset":"endOffset"];1===t.nodeType&&(n=it.create("span",{"data-mce-type":"bookmark"}),t.hasChildNodes()?(r=Math.min(r,t.childNodes.length-1),e?t.insertBefore(n,t.childNodes[r]):it.insertAfter(n,t.childNodes[r])):t.appendChild(n),t=n,r=0),i[e?"startContainer":"endContainer"]=t,i[e?"startOffset":"endOffset"]=r}var i={};return e(!0),o.collapsed||e(),i}function Ee(o){function e(e){var n,t=n=o[e?"startContainer":"endContainer"],r=o[e?"startOffset":"endOffset"];t&&(1===t.nodeType&&(r=function(e){for(var n=e.parentNode.firstChild,t=0;n;){if(n===e)return t;1===n.nodeType&&"bookmark"===n.getAttribute("data-mce-type")||t++,n=n.nextSibling}return-1}(t),t=t.parentNode,it.remove(n),!t.hasChildNodes()&&it.isBlock(t)&&t.appendChild(it.create("br"))),o[e?"startContainer":"endContainer"]=t,o[e?"startOffset":"endOffset"]=r)}e(!0),e();var n=it.createRng();return n.setStart(o.startContainer,o.startOffset),o.endContainer&&n.setEnd(o.endContainer,o.endOffset),ee(n)}function Pe(e){switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}}function Be(e){return/\btox\-/.test(e.className)}function Ie(e,n,t){function r(e){e=g(e.parents,Wn,Gn).filter(function(e){return e.nodeName===n&&!Be(e)}).isSome(),t(e)}var o=e.dom.getParents(e.selection.getNode());return r({parents:o}),e.on("NodeChange",r),function(){return e.off("NodeChange",r)}}function Re(t,e){Vn.each(e,function(e,n){t.setAttribute(n,e)})}function Me(e,n,t){var r;!function(e,n,t){t=t["list-style-type"]||null;e.setStyle(n,"list-style-type",t)}(e,n,t),e=e,Re(n=n,(r=t)["list-attributes"]),Vn.each(e.select("li",n),function(e){Re(e,r["list-item-attributes"])})}function Ue(e,n,t,r){var o=n[t?"startContainer":"endContainer"],n=n[t?"startOffset":"endOffset"];for(1===o.nodeType&&(o=o.childNodes[Math.min(n,o.childNodes.length-1)]||o),!t&&Jn(o.nextSibling)&&(o=o.nextSibling);o.parentNode!==r;){if(V(e,o))return o;if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o;o=o.parentNode}return o}function _e(i,u,a){void 0===a&&(a={});var e,n=i.selection.getRng(),s="LI",t=nt(i,i.selection.getStart(!0)),c=i.dom;"false"!==c.getContentEditable(i.selection.getNode())&&("DL"===(u=u.toUpperCase())&&(s="DT"),e=Ae(n),Vn.each(function(t,e,r){for(var o,i=[],u=t.dom,n=Ue(t,e,!0,r),a=Ue(t,e,!1,r),s=[],c=n;c&&(s.push(c),c!==a);c=c.nextSibling);return Vn.each(s,function(e){if(V(t,e))return i.push(e),void(o=null);if(u.isBlock(e)||Jn(e))return Jn(e)&&u.remove(e),void(o=null);var n=e.nextSibling;ot.isBookmarkNode(e)&&(V(t,n)||!n&&e.parentNode===r)?o=null:(o||(o=u.create("p"),e.parentNode.insertBefore(o,e),i.push(o)),o.appendChild(e))}),i}(i,n,t),function(e){var n,t,r,o=e.previousSibling;o&&Wn(o)&&o.nodeName===u&&function(e,n,t){n=e.getStyle(n,"list-style-type"),t=t?t["list-style-type"]:"";return n===(t=null===t?"":t)}(c,o,a)?(n=o,e=c.rename(e,s),o.appendChild(e)):(n=c.create(u),e.parentNode.insertBefore(n,e),n.appendChild(e),e=c.rename(e,s)),t=c,r=e,e=["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"],Vn.each(e,function(e){var n;return t.setStyle(r,((n={})[e]="",n))}),Me(c,n,a),ut(i.dom,n)}),i.selection.setRng(Ee(e)))}function Fe(e,n,t){return o=t,(r=n)&&o&&Wn(r)&&r.nodeName===o.nodeName&&(o=t,(e=e).getStyle(n,"list-style-type",!0)===e.getStyle(o,"list-style-type",!0))&&n.className===t.className;var r,o}function He(i,e,n,u,a){var t;e.nodeName!==u||at(a)?(t=Ae(i.selection.getRng(!0)),Vn.each([e].concat(n),function(e){var n,t,r,o;n=i,r=u,o=a,(t=e).nodeName!==r?(e=n.dom.rename(t,r),Me(n.dom,e,o),ae(n,Pe(r),e)):(Me(n.dom,t,o),ae(n,Pe(r),t))}),i.selection.setRng(Ee(t))):xe(i)}function $e(e,n,t){var r,o=ne(e),i=te(e);t=t||{},o&&0<i.length?He(e,o,i,n,t):(r=n,i=t,(n=o)!==(t=e).getBody()&&(n?n.nodeName!==r||at(i)||Be(n)?(o=Ae(t.selection.getRng(!0)),Me(t.dom,n,i),e=t.dom.rename(n,r),ut(t.dom,e),t.selection.setRng(Ee(o)),ae(t,Pe(r),e)):xe(t):(_e(t,r,i),ae(t,Pe(r),n))))}function je(o,e){Vn.each(Vn.grep(o.select("ol,ul",e)),function(e){var n,t,r;n=o,"LI"===(e=(t=e).parentNode).nodeName&&e.firstChild===t&&((r=e.previousSibling)&&"LI"===r.nodeName?(r.appendChild(t),Q(n,e)&&st.remove(e)):st.setStyle(e,"listStyleType","none")),Wn(e)&&(r=e.previousSibling)&&"LI"===r.nodeName&&r.appendChild(t)})}function qe(e,n,t,r){var o=n.startContainer,n=n.startOffset;if(K(o)&&(t?n<o.data.length:0<n))return o;var i=e.schema.getNonEmptyElements();1===o.nodeType&&(o=Hn.getNode(o,n));var u=new $n(o,r);for(t&&(r=e.dom,Jn(e=o)&&r.isBlock(e.nextSibling)&&!Jn(e.previousSibling)&&u.next());o=u[t?"next":"prev2"]();){if("LI"===o.nodeName&&!o.hasChildNodes())return o;if(i[o.nodeName])return o;if(K(o)&&0<o.data.length)return o}}function Ke(e,n){return 1===(n=n.childNodes).length&&!Wn(n[0])&&e.isBlock(n[0])}function Ve(e,n,t){var r,o,i=Ke(e,t)?t.firstChild:t;if(Ke(o=e,t=n)&&o.remove(t.firstChild,!0),!Q(e,n,!0))for(;r=n.firstChild;)i.appendChild(r)}function We(n,e,t){var r,o=e.parentNode;X(n,e)&&X(n,t)&&(Wn(t.lastChild)&&(r=t.lastChild),o===t.lastChild&&Jn(o.previousSibling)&&n.remove(o.previousSibling),(o=t.lastChild)&&Jn(o)&&e.hasChildNodes()&&n.remove(o),Q(n,t,!0)&&n.$(t).empty(),Ve(n,e,t),r&&t.appendChild(r),t=k(_n.fromDom(t),_n.fromDom(e))?n.getParents(e,Wn,t):[],n.remove(e),l(t,function(e){Q(n,e)&&e!==n.getRoot()&&n.remove(e)}))}function Qe(e,n,t,r){var o,i,u,a=e.dom;a.isEmpty(r)?(i=t,u=r,(o=e).dom.$(u).empty(),We(o.dom,i,u),o.selection.setCursorLocation(u)):(n=Ae(n),We(a,t,r),e.selection.setRng(Ee(n)))}function Xe(e,n){var t=e.dom,r=e.selection,o=r.getStart(),i=nt(e,o),u=t.getParent(r.getStart(),"LI",i);if(u){o=u.parentNode;if(o===e.getBody()&&Q(t,o))return!0;var a=ee(r.getRng()),s=t.getParent(qe(e,a,n,i),"LI",i);if(s&&s!==u)return e.undoManager.transact(function(){n?Qe(e,a,s,u):u.parentNode.firstChild===u?we(e):function(e,n,t,r){n=Ae(n);We(e.dom,t,r);n=Ee(n);e.selection.setRng(n)}(e,a,u,s)}),!0;if(!s&&!n&&0===a.startOffset&&0===a.endOffset)return e.undoManager.transact(function(){xe(e)}),!0}return!1}function ze(e,n){var t=e.dom,r=e.selection.getStart(),o=nt(e,r),i=t.getParent(r,t.isBlock,o);if(i&&t.isEmpty(i)){var r=ee(e.selection.getRng()),u=t.getParent(qe(e,r,n,o),"LI",o);if(u)return e.undoManager.transact(function(){!function(e,n,t){t=e.getParent(n.parentNode,e.isBlock,t);e.remove(n),t&&e.isEmpty(t)&&e.remove(t)}(t,i,o),ut(t,u.parentNode),e.selection.select(u,!0),e.selection.collapse(n)}),!0}return!1}function Ye(e,n){return e.selection.isCollapsed()?Xe(r=e,o=n)||ze(r,o):(o=(t=e).selection.getStart(),e=nt(t,o),!!(t.dom.getParent(o,"LI,DT,DD",e)||0<re(t).length)&&(t.undoManager.transact(function(){t.execCommand("Delete"),je(t.dom,t.getBody())}),!0));var t,r,o}function Ge(t){var r=t.dom,e=ne(t);Xn(e)&&t.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:r.getAttrib(e,"start")||"1"},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(e){var n=e.getData();t.undoManager.transact(function(){r.setAttrib(ne(t),"start","1"===n.start?"":n.start)}),e.close()}})}function Je(n,t){return function(){var e=n.dom.getParent(n.selection.getStart(),"UL,OL,DL");return e&&e.nodeName===t}}function Ze(e){var n,t;e.getParam("lists_indent_on_tab",!0)&&(n=e).on("keydown",function(e){e.keyCode!==jn.TAB||jn.metaKeyPressed(e)||n.undoManager.transact(function(){(e.shiftKey?we:ke)(n)&&e.preventDefault()})}),(t=e).on("keydown",function(e){e.keyCode===jn.BACKSPACE?Ye(t,!1)&&e.preventDefault():e.keyCode===jn.DELETE&&Ye(t,!0)&&e.preventDefault()})}function en(n){function e(e){return function(){return n.execCommand(e)}}n.hasPlugin("advlist")||(n.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:e("InsertOrderedList"),onSetup:function(e){return Ie(n,"OL",e.setActive)}}),n.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:e("InsertUnorderedList"),onSetup:function(e){return Ie(n,"UL",e.setActive)}}))}var nn,tn,rn,on,un=function(t){function e(){return o}function n(e){return e(t)}var r=s(t),o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:c,isNone:i,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:e,orThunk:e,map:function(e){return un(e(t))},each:function(e){e(t)},bind:n,exists:n,forall:n,filter:function(e){return e(t)?o:f},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(i,function(e){return n(t,e)})}};return o},an={some:un,none:n,from:function(e){return null==e?f:un(e)}},sn=function(t){return function(e){return e=typeof(n=e),(null===n?"null":"object"==e&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"==e&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":e)===t;var n}},cn=function(n){return function(e){return typeof e===n}},fn=sn("string"),dn=sn("array"),ln=cn("boolean"),mn=cn("function"),pn=cn("number"),gn=Array.prototype.slice,hn=Array.prototype.push,vn=function(){return(vn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},yn=function(){return Sn(0,0)},Sn=function(e,n){return{major:e,minor:n}},bn={nu:Sn,detect:function(e,n){n=String(n).toLowerCase();return 0===e.length?yn():function(e,n){var t=function(e,n){for(var t=0;t<e.length;t++){var r=e[t];if(r.test(n))return r}}(e,n);if(!t)return{major:0,minor:0};e=function(e){return Number(n.replace(t,"$"+e))};return Sn(e(1),e(2))}(e,n)},unknown:yn},Cn=function(e,t){return O(e,t).map(function(e){var n=bn.detect(e.versionRegexes,t);return{current:e.name,version:n}})},On=function(e,t){return O(e,t).map(function(e){var n=bn.detect(e.versionRegexes,t);return{current:e.name,version:n}})},n=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,sn=function(n){return function(e){return N(e,n)}},cn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return N(e,"edge/")&&N(e,"chrome")&&N(e,"safari")&&N(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,n],search:function(e){return N(e,"chrome")&&!N(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return N(e,"msie")||N(e,"trident")}},{name:"Opera",versionRegexes:[n,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:sn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:sn("firefox")},{name:"Safari",versionRegexes:[n,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(N(e,"safari")||N(e,"mobile/"))&&N(e,"applewebkit")}}],n=[{name:"Windows",search:sn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return N(e,"iphone")||N(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:sn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:sn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:sn("linux"),versionRegexes:[]},{name:"Solaris",search:sn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:sn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:sn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Nn={browsers:s(cn),oses:s(n)},Ln="Edge",Tn="Firefox",Dn=function(e){var n=e.current,t=e.version,e=function(e){return function(){return n===e}};return{current:n,version:t,isEdge:e(Ln),isChrome:e("Chrome"),isIE:e("IE"),isOpera:e("Opera"),isFirefox:e(Tn),isSafari:e("Safari")}},kn={unknown:function(){return Dn({current:void 0,version:bn.unknown()})},nu:Dn,edge:s(Ln),chrome:s("Chrome"),ie:s("IE"),opera:s("Opera"),firefox:s(Tn),safari:s("Safari")},wn="Windows",xn="Android",An="Solaris",En="FreeBSD",Pn="ChromeOS",Bn=function(e){var n=e.current,t=e.version,e=function(e){return function(){return n===e}};return{current:n,version:t,isWindows:e(wn),isiOS:e("iOS"),isAndroid:e(xn),isOSX:e("OSX"),isLinux:e("Linux"),isSolaris:e(An),isFreeBSD:e(En),isChromeOS:e(Pn)}},In={unknown:function(){return Bn({current:void 0,version:bn.unknown()})},nu:Bn,windows:s(wn),ios:s("iOS"),android:s(xn),linux:s("Linux"),osx:s("OSX"),solaris:s(An),freebsd:s(En),chromeos:s(Pn)},Rn=function(e,n){var t,r,o=Nn.browsers(),i=Nn.oses(),u=Cn(o,e).fold(kn.unknown,kn.nu),a=On(i,e).fold(In.unknown,In.nu);return{browser:u,os:a,deviceType:(t=u,r=e,o=n,u=(i=a).isiOS()&&!0===/ipad/i.test(r),e=i.isiOS()&&!u,n=i.isiOS()||i.isAndroid(),a=n||o("(pointer:coarse)"),o=u||!e&&n&&o("(min-device-width:768px)"),n=e||n&&!o,r=t.isSafari()&&i.isiOS()&&!1===/safari/i.test(r),{isiPad:s(u),isiPhone:s(e),isTablet:s(o),isPhone:s(n),isTouch:s(a),isAndroid:i.isAndroid,isiOS:i.isiOS,isWebView:s(r),isDesktop:s(!n&&!o&&!r)})}},Mn=(rn=!(nn=function(){return Rn(navigator.userAgent,L)}),function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return rn||(rn=!0,tn=nn.apply(null,e)),tn}),Un=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},_n={fromHtml:function(e,n){n=(n||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||1<n.childNodes.length)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Un(n.childNodes[0])},fromTag:function(e,n){e=(n||document).createElement(e);return Un(e)},fromText:function(e,n){e=(n||document).createTextNode(e);return Un(e)},fromDom:Un,fromPoint:function(e,n,t){return an.from(e.dom.elementFromPoint(n,t)).map(Un)}},Fn=function(e,n){e=e.dom;if(1!==e.nodeType)return!1;if(void 0!==e.matches)return e.matches(n);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(n);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(n);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")},Hn=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),$n=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),jn=tinymce.util.Tools.resolve("tinymce.util.VK"),qn=Object.keys,Kn=("undefined"!=typeof window||Function("return this;")(),on=1,function(e){return e.dom.nodeType===on}),sn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Vn=tinymce.util.Tools.resolve("tinymce.util.Tools"),cn=function(n){return function(e){return e&&e.nodeName.toLowerCase()===n}},n=function(n){return function(e){return e&&n.test(e.nodeName)}},Wn=n(/^(OL|UL|DL)$/),Qn=n(/^(OL|UL)$/),Xn=cn("ol"),zn=n(/^(LI|DT|DD)$/),Yn=n(/^(DT|DD)$/),Gn=n(/^(TH|TD)$/),Jn=cn("br"),Zn=sn.DOM,et=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),nt=function(e,n){n=e.dom.getParents(n,"TD,TH");return 0<n.length?n[0]:e.getBody()},tt=function(n,e){e=d(e,function(e){return oe(n,e).getOr(e)});return et.unique(e)},rt=function(n,t,r,e){return v(I(e),function(e){return(pe(e)?rt:Ce)(n+1,t,r,e)})},ot=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),it=sn.DOM,ut=function(e,n){var t,r=n.nextSibling;if(Fe(e,n,r)){for(;t=r.firstChild;)n.appendChild(t);e.remove(r)}if(r=n.previousSibling,Fe(e,n,r)){for(;t=r.lastChild;)n.insertBefore(t,n.firstChild);e.remove(r)}},at=function(e){return"list-style-type"in e},st=sn.DOM;e.add("lists",function(e){var t,r,n;return!1===e.hasPlugin("rtc",!0)&&(Ze(e),(t=e).on("BeforeExecCommand",function(e){e=e.command.toLowerCase();"indent"===e?ke(t):"outdent"===e&&we(t)}),t.addCommand("InsertUnorderedList",function(e,n){$e(t,"UL",n)}),t.addCommand("InsertOrderedList",function(e,n){$e(t,"OL",n)}),t.addCommand("InsertDefinitionList",function(e,n){$e(t,"DL",n)}),t.addCommand("RemoveList",function(){xe(t)}),t.addCommand("mceListProps",function(){Ge(t)}),t.addQueryStateHandler("InsertUnorderedList",Je(t,"UL")),t.addQueryStateHandler("InsertOrderedList",Je(t,"OL")),t.addQueryStateHandler("InsertDefinitionList",Je(t,"DL"))),en(e),(r=e).ui.registry.addMenuItem("listprops",{text:"List properties...",icon:"ordered-list",onAction:function(){return Ge(r)},onSetup:function(n){return Ie(r,"OL",function(e){return n.setDisabled(!e)})}}),r.ui.registry.addContextMenu("lists",{update:function(e){e=ne(r,e);return Xn(e)?["listprops"]:[]}}),n=e,{backspaceDelete:function(e){Ye(n,e)}}})}();