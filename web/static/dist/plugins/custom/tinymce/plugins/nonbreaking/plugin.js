!function(){"use strict";function t(n,e){for(var a="",o=0;o<e;o++)a+=n;return a}function i(n,e){var a,o=n.getParam("nonbreaking_wrap",!0,"boolean")||n.plugins.visualchars?'<span class="'+(!!(a=n).plugins.visualchars&&a.plugins.visualchars.isEnabled()?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap")+'" contenteditable="false">'+t("&nbsp;",e)+"</span>":t("&nbsp;",e);n.undoManager.transact(function(){return n.insertContent(o)})}var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=tinymce.util.Tools.resolve("tinymce.util.VK");n.add("nonbreaking",function(n){var e,a,o,t;(e=n).addCommand("mceNonBreaking",function(){i(e,1)}),(a=n).ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:function(){return a.execCommand("mceNonBreaking")}}),a.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:function(){return a.execCommand("mceNonBreaking")}}),0<(t=function(n){n=n.getParam("nonbreaking_force_tab",0);return"boolean"==typeof n?!0===n?3:0:n}(o=n))&&o.on("keydown",function(n){n.keyCode!==r.TAB||n.isDefaultPrevented()||n.shiftKey||(n.preventDefault(),n.stopImmediatePropagation(),i(o,t))})})}();